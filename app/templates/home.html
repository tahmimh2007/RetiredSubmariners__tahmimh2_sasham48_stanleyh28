<!DOCTYPE html>
<!-- RetiredSubmariners: SashaÂ M â€¢ StanleyÂ H â€¢ TahmimÂ H -->
<html lang="en">
<head>
  <title>DashboardÂ â€‘Â SubmarineÂ Charts</title>
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<header>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="flash-messages">
        {% for category, message in messages %}
          <div class="flash-message {{ category }}">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}
</header>

<nav class="navbar">
  <ul>
    <li><a href="{{ url_for('home') }}">HomeğŸ </a></li>
    <li><a href="{{ url_for('upload') }}">UploadğŸ“</a></li>
    <li><a href="{{ url_for('visual') }}">VisualğŸ‘€</a></li>
    <li><a href="{{ url_for('ml') }}">AIÂ Modelâš™ï¸</a></li>
    {% if username %}
      <div class="welcome-container">
        <span class="welcome-message">Welcome, {{ username }}!</span>
        <a href="{{ url_for('logout') }}" class="signout-btn">SignÂ Out</a>
      </div>
    {% endif %}
  </ul>
</nav>

{% if username %}
  <h2>Hello</h2>
  <a href="/upload">UploadÂ NewÂ File</a>

  <!-- â”€â”€ Search bar + scrollable list â”€â”€ -->
  <div class="search-container">
    <input type="text" id="file-search" placeholder="Search filesâ€¦">
  </div>

  <h3>YourÂ UploadedÂ Files:</h3>
  <div class="file-window">
    <ul class="file-list">
      {% for filename, file_id in files %}
        <li>
          <a href="{{ url_for('visual', file_id=file_id) }}"
             data-filetype="{{ filename.rsplit('.',1)[1] }}">{{ filename }}</a>
        </li>
      {% endfor %}
    </ul>
  </div>
{% else %}
  <h2>WelcomeÂ toÂ RetiredSubmarineÂ Charts</h2>
  <p>To save your data, please log in.</p>
  <div class="login-register-container">
    <a href="{{ url_for('login') }}"><button>GoÂ toÂ Login</button></a>
  </div>
{% endif %}

<script src="/static/js/index.js" defer></script>
</body>
</html>
